<!DOCTYPE html>
    <html lang="en">
        
<head>

    <title>registro</title>

        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <script src="https://kit.fontawesome.com/673f269efc.js" crossorigin="anonymous"></script>
        <link rel="stylesheet" href="/css/styles-forms.css">
        <link rel="stylesheet" href="/css/styles-header.css">
        <link rel="stylesheet" href="/css/styles-footer.css">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Roboto&display=swap" rel="stylesheet">
        <link rel="icon" href="/images/favicon.ico" type="ico">

</head>
<body>
    <%- include('./partials/header') %>
    
        
<main class="form-register">
           <section class="register-form"> <!--ACÁ VA EL CÓDIGO DEL CUERPO DE LA PÁG-->
            <form method="POST" action="/users/registro"  class="section-registro" enctype="multipart/form-data" id="form">
                <h4>Formulario de Registro</h4>
                <label for="email"></label>
                <input class="controls" type="email" name="email" id="email" placeholder="Ingrese su correo electronico"
                >
                <label for="nombres"></label>
                <input class="controls" type="text" name="nombres" id="nombres" placeholder="Ingrese su nickname"
                >
                <label for="contraseña"></label>
                <input class="controls" type="password" name="contraseña" id="contraseña" placeholder="Ingrese su contraseña"
                >
                <input class="controls" type="password" name="contraseña" id="contraseña1" placeholder="Confirmar contraseña"
                >

                <label for="imgUser"></label>
                <input type="file" name="imgUser" id="imgUser" >
                <p class="warnings" id="warnings"></p>
                <button type="submit" class="boton-registro">Registrarse</button>
            </form>
            <div class="script">
                <script>
                    const email = document.getElementById("email")
                    const username = document.getElementById("nombres")
                    const password = document.getElementById("contraseña")
                    const password1 = document.getElementById("contraseña1")
                    const form = document.getElementById("form")
                    const parrafo = document.getElementById("warnings")

                    form.addEventListener("submit", e=> {
                        e.preventDefault()
                        let warnings = ''
                        let regexEmail = /^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/
                        let entrar = false
                        if(username.value.length < 6){
                            warnings = warnings + `El nombre es muy corto <br>`
                            entrar = true
                        }
                        if (!regexEmail.test(email.value)){
                            warnings = warnings + `El email no es valido <br>`
                            entrar = true
                        }
                        if (password.value < 8){
                            warnings = warnings + `La contraseña es muy corta e insegura <br>`
                            entrar = true
                        }
                        if (password.value != password1.value){
                            warnings = warnings + `Las contraseñas no coinciden <br>`
                            entrar = true
                        }
                        if (parrafo){
                            parrafo.innerHTML = warnings
                        }
                        if (username.value && password.value && password1.value && email.value){
                            parrafo.innerHTML = "Formulario enviado con exito!"
                            form.reset()
                        }

                    })
                    
                </script>
            </div>
            <div class="box-extra">    
            <p><a href="/users/login">¿Ya tiene una cuenta?</a></p>

                
                <div class="admin-password">
                    <h6>iniciar sesión como administrador</h6>
                    <form action="/admin/" method="post">
                        <label for="password-admin"></label>
                        <input class="controls" type="password" name="contraseña" id="contraseña" placeholder="Ingrese su código">
                        <button class="boton-ingreso" type="submit">Ingresar</button>
                    </form>
                </div>
            </div>
            </section>
</main>
        
<%- include('./partials/footer') %>
</div>      
</body>
</html>
    
